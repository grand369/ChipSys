<template>
  <div class="fun-tagsview layout-pd">
    <NoticeBar
      text="å·²åˆ é™¤éå½“å‰é¡?tagsView æ¼”ç¤ºï¼Œåç»­æœ‰æ—¶é—´å¯ä»¥å†åŠ å›æ¥ï¼ï¼Œtagsview æ”¯æŒå¤šæ ‡ç­¾ï¼ˆå‚æ•°ä¸åŒï¼‰ã€å•æ ‡ç­¾å…±ç”¨ï¼ˆå‚æ•°ä¸åŒï¼‰"
      background="#ecf5ff"
      color="#409eff"
    />
    <el-card shadow="hover" header="tagsView å½“å‰é¡µæ¼”ç¤? class="mt15">
      <div class="flex-warp">
        <div class="flex-warp-item">
          <div class="flex-warp-item-box">
            <el-button type="primary" @click="refreshCurrentTagsView">
              <el-icon>
                <ele-RefreshRight />
              </el-icon>
              åˆ·æ–°å½“å‰é¡?
            </el-button>
          </div>
        </div>
        <div class="flex-warp-item">
          <div class="flex-warp-item-box">
            <el-button type="info" @click="closeCurrentTagsView">
              <el-icon>
                <ele-Close />
              </el-icon>
              å…³é—­å½“å‰é¡?
            </el-button>
          </div>
        </div>
        <div class="flex-warp-item">
          <div class="flex-warp-item-box">
            <el-button type="warning" @click="closeOtherTagsView">
              <el-icon>
                <ele-CircleClose />
              </el-icon>
              å…³é—­å…¶å®ƒ
            </el-button>
          </div>
        </div>
        <div class="flex-warp-item">
          <div class="flex-warp-item-box">
            <el-button type="danger" @click="closeAllTagsView">
              <el-icon>
                <ele-FolderDelete />
              </el-icon>
              å…¨éƒ¨å…³é—­
            </el-button>
          </div>
        </div>
        <div class="flex-warp-item">
          <div class="flex-warp-item-box">
            <el-button type="success" @click="openCurrenFullscreen">
              <el-icon>
                <ele-FullScreen />
              </el-icon>
              å½“å‰é¡µå…¨å±?
            </el-button>
          </div>
        </div>
      </div>
    </el-card>
  </div>
</template>

<script setup lang="ts" name="example/funTagsView">
import { defineAsyncComponent } from 'vue'
import { useRoute } from 'vue-router'
import mittBus from '/@/utils/mitt'

// å¼•å…¥ç»„ä»¶
const NoticeBar = defineAsyncComponent(() => import('/@/components/noticeBar/index.vue'))

// å®šä¹‰å˜é‡å†…å®¹
const route = useRoute()

// 0 åˆ·æ–°å½“å‰ï¼? å…³é—­å½“å‰ï¼? å…³é—­å…¶å®ƒï¼? å…³é—­å…¨éƒ¨ 4 å½“å‰é¡µå…¨å±?
// 1ã€åˆ·æ–°å½“å‰?tagsView
const refreshCurrentTagsView = () => {
  mittBus.emit('onCurrentContextmenuClick', Object.assign({}, { contextMenuClickId: 0, ...route }))
}
// 2ã€å…³é—­å½“å‰?tagsView
const closeCurrentTagsView = () => {
  mittBus.emit('onCurrentContextmenuClick', Object.assign({}, { contextMenuClickId: 1, ...route }))
}
// 3ã€å…³é—­å…¶å®?tagsView
const closeOtherTagsView = () => {
  mittBus.emit('onCurrentContextmenuClick', Object.assign({}, { contextMenuClickId: 2, ...route }))
}
// 4ã€å…³é—­å…¨éƒ?tagsView
const closeAllTagsView = () => {
  mittBus.emit('onCurrentContextmenuClick', Object.assign({}, { contextMenuClickId: 3, ...route }))
}
// 5ã€å¼€å¯å½“å‰é¡µé¢å…¨å±?
const openCurrenFullscreen = () => {
  mittBus.emit('onCurrentContextmenuClick', Object.assign({}, { contextMenuClickId: 4, ...route }))
}
</script>

<style scoped lang="scss">
.fun-tagsview {
  .fun-tagsview-from-item {
    :deep(.el-form-item__content) {
      margin-left: 0 !important;
    }
  }
}
</style>
