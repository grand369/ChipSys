<template>
  <div class="iconfont-container layout-pd">
    <el-card shadow="hover" :header="`iconfont å­—ä½“å›¾æ ‡(è‡ªåŠ¨è½½å…¥)ï¼?{state.sheetsIconList.length}ä¸ª`">
      <el-row class="iconfont-row">
        <el-col :xs="12" :sm="8" :md="6" :lg="4" :xl="2" v-for="(v, k) in state.sheetsIconList" :key="k">
          <div class="iconfont-warp">
            <div class="flex-margin">
              <div class="iconfont-warp-value">
                <i :class="v" class="iconfont"></i>
              </div>
              <div class="iconfont-warp-label mt10">{{ v }}</div>
            </div>
          </div>
        </el-col>
      </el-row>
    </el-card>
  </div>
</template>

<script setup lang="ts" name="example/pagesIocnfont">
import { reactive, onMounted } from 'vue'
import initIconfont from '/@/utils/getStyleSheets'

// å®šä¹‰å˜é‡å†…å®¹
const state = reactive({
  sheetsIconList: [],
})

// åˆå§‹åŒ–èŽ·å?css æ ·å¼ï¼Œè¿™é‡Œä½¿ç”¨é˜¿é‡Œçš„å›¾æ ‡(è®°å¾—åŠ ä¸Šå‰ç¼€ `iconfont`)ï¼Œå…¶å®ƒç¬¬ä¸‰æ–¹è¯·è‡ªè¡Œåšåˆ¤æ–­
const initGetStyleSheets = () => {
  initIconfont.ali().then((res: any) => (state.sheetsIconList = res))
}
// é¡µé¢åŠ è½½æ—?
onMounted(() => {
  initGetStyleSheets()
})
</script>

<style scoped lang="scss">
.iconfont-container {
  .iconfont-row {
    border-top: 1px solid var(--next-border-color-light);
    border-left: 1px solid var(--next-border-color-light);
    .iconfont-warp {
      text-align: center;
      border-right: 1px solid var(--next-border-color-light);
      border-bottom: 1px solid var(--next-border-color-light);
      height: 120px;
      overflow: hidden;
      display: flex;
      transition: all 0.3s ease;
      &:hover {
        box-shadow: 0 2px 12px var(--next-color-dark-hover);
        cursor: pointer;
        transition: all 0.3s ease;
        .iconfont-warp-value {
          i {
            color: var(--el-color-primary);
            transition: all 0.3s ease;
          }
        }
        .iconfont-warp-label {
          color: var(--el-color-primary);
          transition: all 0.3s ease;
        }
      }
      .iconfont-warp-value {
        i {
          color: #606266;
          font-size: 32px;
          transition: all 0.3s ease;
        }
      }
      .iconfont-warp-label {
        color: #99a9bf;
        transition: all 0.3s ease;
      }
    }
  }
}
</style>
